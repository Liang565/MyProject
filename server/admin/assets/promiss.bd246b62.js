import{d as E,p as b,g as M,r as n,o as N,h as O,j as u,i as e,w as l,l as a,F as S,n as _}from"./vendor.fd5a6943.js";import"./http.2f7338bd.js";import{C as V}from"./crud-api.3b6741b4.js";import"./admin-store.d62c6d54.js";const j=u("div",{class:"mb-2 text-2xl"},"\u6743\u9650\u7BA1\u7406",-1),A={class:"mb-2 flex justify-start"},T=_(" \u65B0\u589E\u5546\u54C1 "),$=_("\u641C\u7D22"),q={class:"mt-5"},K=_("\u5220\u9664"),W=E({setup(z){const{remove:y,viss:m,editOk:G,addOk:g,fetch:k,data:w,query:H,where:d,search:x,pagination:B,pageChange:h}=V("promiss");let s=b({name:""});d.value={};const c=b([{value:"user",label:"user"},{value:"order",label:"order"},{value:"class",label:"class"},{value:"goods",label:"goods"},{value:"shop",label:"shop"}]),F=()=>{m.value.add=!0};return M(()=>{k()}),(U,o)=>{const p=n("a-button"),v=n("a-input"),i=n("a-form-item"),f=n("a-select"),C=n("a-form"),r=n("a-table-column"),I=n("a-table"),D=n("a-modal");return N(),O(S,null,[u("div",null,[j,u("div",A,[u("div",null,[e(p,{onClick:F,type:"primary"},{default:l(()=>[T]),_:1})]),u("div",null,[e(C,{layout:"inline"},{default:l(()=>[e(i,{label:"\u6743\u9650\u540D\uFF1A",class:"w-52"},{default:l(()=>[e(v,{value:a(d).name,"onUpdate:value":o[0]||(o[0]=t=>a(d).name=t)},null,8,["value"])]),_:1}),e(i,{label:"\u5206\u7C7B",class:"w-44"},{default:l(()=>[e(f,{options:c.value,value:a(d).category,"onUpdate:value":o[1]||(o[1]=t=>a(d).category=t),allowClear:!0},null,8,["options","value"])]),_:1}),e(i,null,{default:l(()=>[e(p,{type:"primary",onClick:a(x)},{default:l(()=>[$]),_:1},8,["onClick"])]),_:1})]),_:1})])]),u("div",q,[e(I,{dataSource:a(w),rowKey:"title",pagination:a(B),onChange:a(h),scroll:{y:390}},{default:l(()=>[e(r,{title:"id",dataIndex:"_id",key:"_id",class:"w-40"}),e(r,{title:"\u5206\u7C7B",dataIndex:"category",key:"name"}),e(r,{title:"\u6743\u9650",dataIndex:"name",key:"name"}),e(r,{title:"\u64CD\u4F5C",dataIndex:"operation",key:"operation"},{default:l(({record:t})=>[u("div",null,[e(p,{type:"link",onClick:J=>a(y)(t,t.name)},{default:l(()=>[K]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["dataSource","pagination","onChange"])])]),u("div",null,[e(D,{visible:a(m).add,"onUpdate:visible":o[4]||(o[4]=t=>a(m).add=t),title:"\u65B0\u589E\u6743\u9650",onOk:o[5]||(o[5]=t=>a(g)(a(s))),afterClose:U.cancelModel},{default:l(()=>[e(C,{model:a(s)},{default:l(()=>[e(i,{label:"\u6743\u9650"},{default:l(()=>[e(v,{value:a(s).name,"onUpdate:value":o[2]||(o[2]=t=>a(s).name=t)},null,8,["value"])]),_:1}),e(i,{label:"\u5206\u7C7B"},{default:l(()=>[e(f,{value:a(s).category,"onUpdate:value":o[3]||(o[3]=t=>a(s).category=t),style:{width:"100%"},options:c.value},null,8,["value","options"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","afterClose"])])],64)}}});export{W as default};
