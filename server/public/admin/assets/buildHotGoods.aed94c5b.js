import{_ as r}from"./index.03bb2250.js";import{h as c}from"./http.72fb258c.js";import{d as V}from"./vuedraggable.umd.f0e2484a.js";import{d as A,g as a,h as R,r as q,o as u,j as m,p as t,F as P,q as T,l as s,k as d,w as p,m as g,y as C,t as $,c as I,D as L,E as M}from"./vendor.21c9141e.js";function O(l){switch(l){case"../../components/components/grid.vue":return r(()=>import("./grid.927227a3.js"),["assets/grid.927227a3.js","assets/shopCard.80749229.css","assets/upload.vue_vue_type_style_index_0_lang.93e2bfe0.css","assets/icon.4488182b.js","assets/vendor.21c9141e.js","assets/upload.d8152770.js","assets/register-and-login.ff801dd2.js","assets/admin-store.0a078265.js","assets/http.72fb258c.js"]);case"../../components/components/shopCard.vue":return r(()=>import("./shopCard.58918838.js"),["assets/shopCard.58918838.js","assets/shopCard.80749229.css","assets/upload.vue_vue_type_style_index_0_lang.93e2bfe0.css","assets/admin-store.0a078265.js","assets/vendor.21c9141e.js","assets/http.72fb258c.js"]);case"../../components/components/swipe.vue":return r(()=>import("./swipe.8e17f5db.js"),["assets/swipe.8e17f5db.js","assets/swipe.8a05e310.css","assets/upload.vue_vue_type_style_index_0_lang.93e2bfe0.css","assets/upload.d8152770.js","assets/register-and-login.ff801dd2.js","assets/admin-store.0a078265.js","assets/vendor.21c9141e.js","assets/http.72fb258c.js"]);default:return new Promise(function(_,i){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+l)))})}}const N={class:"mt-5 flex justify-between"},j=t("div",null,"\u6DFB\u52A0\u7EC4\u4EF6",-1),U={class:"fixed bottom-50vh"},G=C("\u4FDD\u5B58"),S={class:"w-500 h-70vh bg-white overflow-y-auto"},z=t("div",null,[t("div",{id:"option"},"\u8BBE\u7F6E")],-1),W=A({setup(l){const _=e=>M(()=>O(`../../components/components/${e}.vue`));let i=a(),o=a({}),v=a();a();let f=a();const D=e=>{v.value=e.index},x=async()=>{const e=await c.get("components",{params:{query:{limit:999,where:{key:"public"}}}});i.value=e.data},k=async()=>{const e=await c.post("build-home/findone",{name:"\u5546\u54C1\u63A8\u8350"});o.value=e,console.log(o.value)},E=e=>{e==="grid"?o.value.components.push({name:e,option:{index:Date.now(),column:2},content:{},index:Date.now()}):o.value.components.push({name:e,option:{index:Date.now(),height:356,autoplay:3e3},content:{},index:Date.now()})},b=async e=>{o.value.components.splice(o.value.components.indexOf(e),1)},B=async()=>{const e=await c.get("commoditys",{params:{query:{limit:999}}});console.log(e.data),f.value=e.data},F=async()=>{await c.put(`build-home/${o.value._id}`,{components:o.value.components})?g.success("\u4FDD\u5B58\u6210\u529F~"):g.success("\u4FDD\u5B58\u5931\u8D25~")};return R(()=>{x(),B(),k()}),(e,h)=>{const y=q("a-button");return u(),m("div",null,[t("div",N,[t("div",null,[j,(u(!0),m(P,null,T(s(i),n=>(u(),m("div",null,[d(y,{type:"primary",class:"w-20 my-2",onClick:w=>E(n.title)},{default:p(()=>[C($(n.name),1)]),_:2},1032,["onClick"])]))),256)),t("div",U,[d(y,{type:"primary",class:"w-20 my-2",onClick:F},{default:p(()=>[G]),_:1})])]),t("div",S,[d(s(V),{modelValue:s(o).components,"onUpdate:modelValue":h[0]||(h[0]=n=>s(o).components=n),group:"people","item-key":"id"},{item:p(({element:n})=>[t("div",null,[(u(),I(L(_(n.name)),{option:n.option,content:n.content,index:s(v),goods:s(f),onClick:w=>D(n),onRemoveComponent:w=>b(n)},null,8,["option","content","index","goods","onClick","onRemoveComponent"]))])]),_:1},8,["modelValue"])]),z])])}}});export{W as default};
