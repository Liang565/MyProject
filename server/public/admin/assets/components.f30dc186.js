import{C as j}from"./crud-api.fca6ec91.js";import"./http.72fb258c.js";import{d as S,g,h as T,r as i,o as q,j as K,p as r,k as e,w as n,l as t,y as u}from"./vendor.21c9141e.js";const z={class:"my-2"},A=u("\u65B0\u589E\u7EC4\u4EF6"),D={class:"h-70vh overflow-y-auto"},G={class:"flex justify-center"},H=u("\u4FEE\u6539"),J=u("\u5220\u9664"),L=u("admin"),P=u("public"),Q=u("admin"),R=u("public"),le=S({setup(W){const{remove:E,viss:d,editOk:w,addOk:x,fetch:U,data:h,query:X,where:Y,search:Z,pagination:B,pageChange:F}=j("components"),I=()=>{d.value.add=!0};let c=g("");const O=s=>{d.value.edit=!0,o.value.name=s.name,o.value.title=s.title,o.value.key=s.key},M=(s,a)=>{for(let _ in a)a[_]==""&&delete a[_];w(s,a)};let o=g({name:"",title:"",key:"public"});const $=()=>{o.value={name:"",title:"",key:"public"},c.value=""},k=()=>{$(),console.log("cancel")};return T(()=>{U()}),(s,a)=>{const _=i("a-button"),v=i("a-table-column"),N=i("a-table"),p=i("a-input"),m=i("a-form-item"),f=i("a-radio-button"),y=i("a-radio-group"),b=i("a-form"),C=i("a-modal");return q(),K("div",null,[r("div",null,[r("div",z,[e(_,{onClick:I,type:"primary"},{default:n(()=>[A]),_:1})]),r("div",D,[e(N,{dataSource:t(h),rowKey:"_id",pagination:t(B),onChange:t(F)},{default:n(()=>[e(v,{title:"id",dataIndex:"_id",key:"_id",align:"center",width:"30%"}),e(v,{title:"name",dataIndex:"name",key:"name",align:"center",width:"20%"}),e(v,{title:"title",dataIndex:"title",key:"title",align:"center",width:"10%"}),e(v,{title:"key",dataIndex:"key",key:"key",align:"center",width:"10%"}),e(v,{key:"setting",title:"setting",align:"center",width:"30%"},{default:n(({record:l})=>[r("div",G,[e(_,{onClick:V=>O(l),type:"link"},{default:n(()=>[H]),_:2},1032,["onClick"]),e(_,{onClick:V=>t(E)(l,l.name),type:"link"},{default:n(()=>[J]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["dataSource","pagination","onChange"])])]),r("div",null,[e(C,{visible:t(d).add,"onUpdate:visible":a[3]||(a[3]=l=>t(d).add=l),title:"\u65B0\u589E\u7528\u6237",onOk:a[4]||(a[4]=l=>t(x)(t(o))),afterClose:k,centered:!0},{default:n(()=>[e(b,{model:t(o)},{default:n(()=>[e(m,{label:"\u7EC4\u4EF6name",name:"name"},{default:n(()=>[e(p,{value:t(o).name,"onUpdate:value":a[0]||(a[0]=l=>t(o).name=l)},null,8,["value"])]),_:1}),e(m,{label:"\u7EC4\u4EF6title",name:"title"},{default:n(()=>[e(p,{value:t(o).title,"onUpdate:value":a[1]||(a[1]=l=>t(o).title=l)},null,8,["value"])]),_:1}),e(m,{label:"key"},{default:n(()=>[e(y,{value:t(o).key,"onUpdate:value":a[2]||(a[2]=l=>t(o).key=l)},{default:n(()=>[e(f,{value:"admin"},{default:n(()=>[L]),_:1}),e(f,{value:"public"},{default:n(()=>[P]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),r("div",null,[e(C,{visible:t(d).edit,"onUpdate:visible":a[8]||(a[8]=l=>t(d).edit=l),title:"\u65B0\u589E\u7528\u6237",onOk:a[9]||(a[9]=l=>M(t(c),t(o))),afterClose:k,centered:!0},{default:n(()=>[e(b,{model:t(o)},{default:n(()=>[e(m,{label:"\u7EC4\u4EF6name",name:"name"},{default:n(()=>[e(p,{value:t(o).name,"onUpdate:value":a[5]||(a[5]=l=>t(o).name=l)},null,8,["value"])]),_:1}),e(m,{label:"\u7EC4\u4EF6title",name:"title"},{default:n(()=>[e(p,{value:t(o).title,"onUpdate:value":a[6]||(a[6]=l=>t(o).title=l)},null,8,["value"])]),_:1}),e(m,{label:"key"},{default:n(()=>[e(y,{value:t(o).key,"onUpdate:value":a[7]||(a[7]=l=>t(o).key=l)},{default:n(()=>[e(f,{value:"admin"},{default:n(()=>[Q]),_:1}),e(f,{value:"public"},{default:n(()=>[R]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])])}}});export{le as default};
