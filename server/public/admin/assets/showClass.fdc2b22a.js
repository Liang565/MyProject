import{h as p}from"./http.dfe8b96f.js";import{d as k,h as r,j as g,r as o,o as O,k as q,p as c,l as a,w as s,u as i,y as N,m as S}from"./vendor.d8b6d154.js";const V=c("div",{class:"text-2xl"},"\u5206\u7C7B",-1),D={class:""},E=N("\u641C\u7D22"),L={class:"mt-4"},I=k({setup($){let _=r(),l=r({limit:999,page:1,where:{parent:{$exists:!1}}});const u=async()=>{let e=await p.get("/commodity-class/",{params:{query:l.value}});_.value=e.data};let d=r([]);const f=async()=>{let e=await p.get("/commodity-class/",{params:{query:{limit:999}}});d.value=e.data.map(t=>({label:t.title,value:t._id}))},h=(e,t)=>t.label.toLowerCase().indexOf(e.toLowerCase())>=0;let n=r({_id:""});const w=()=>{let e=n.value._id;e==""?S.warn("\u672A\u9009\u62E9"):typeof e=="undefined"?(l.value.where={parent:{$exists:!1}},u()):(delete l.value.where.parent,l.value.where=n.value,u())};return g(()=>{u(),f()}),(e,t)=>{const v=o("a-select"),m=o("a-form-item"),y=o("a-button"),C=o("a-form"),x=o("a-table-column"),b=o("a-table");return O(),q("div",null,[V,c("div",D,[a(C,{layout:"inline"},{default:s(()=>[a(m,{label:"\u641C\u7D22",class:"w-44"},{default:s(()=>[a(v,{options:i(d),value:i(n)._id,"onUpdate:value":t[0]||(t[0]=B=>i(n)._id=B),allowClear:!0,showSearch:!0,"filter-Option":h},null,8,["options","value"])]),_:1}),a(m,null,{default:s(()=>[a(y,{type:"primary",onClick:w},{default:s(()=>[E]),_:1})]),_:1})]),_:1})]),c("div",L,[a(b,{dataSource:i(_),rowKey:"_id",scroll:{y:400},class:"h-400"},{default:s(()=>[a(x,{title:"\u7C7B\u522B",dataIndex:"title",key:"title",class:"w-60"})]),_:1},8,["dataSource"])])])}}});export{I as default};
