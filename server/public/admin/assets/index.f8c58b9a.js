import{R as E}from"./register-and-login.1c71b176.js";import{a as T}from"./admin-store.26ef1a35.js";import{d as B,o as u,c as d,u as n,I as q,g as H,h,j as P,r,k as L,l,w as t,n as v,p as s,F as x,q as F,M as G,t as J,v as I,x as b,y as K,m as Q}from"./vendor.ce4e530f.js";import"./http.fc6e7509.js";const j=B({props:{type:{default:"Home"},theme:{default:"outline"},size:{default:"24"},spin:{type:Boolean,default:!1},fill:{default:"#000000"},strokeLinecap:{default:"round"},strokeLinejoin:{default:"round"},strokeWidth:{default:2}},setup(i){return(m,S)=>(u(),d(n(q),{type:i.type,theme:i.theme,size:i.size,spin:i.spin,fill:i.fill,strokeLinecap:i.strokeLinecap,strokeLinejoin:i.strokeLinejoin,strokeWidth:i.strokeWidth},null,8,["type","theme","size","spin","fill","strokeLinecap","strokeLinejoin","strokeWidth"]))}}),X={class:"translate-y-1"},Y={class:"text-lg"},Z={class:"flex justify-between w-full"},$={class:"-ml-12"},ee={class:"flex justify-end items-center"},te={class:"mx-3"},oe=K("\u9000\u51FA\u767B\u5F55"),ne=K("\u8FD4\u56DE\u7BA1\u7406\u5458"),ae={class:"px-5"},re=B({setup(i){const m=H(),{getUser:S,LogOut:w}=E(),A=m.getRoutes().map(o=>({title:o.meta.title,icon:o.meta.icon,key:o.meta.key,path:o.path,meta:o.meta,children:o.children.map(a=>{var y;return{title:(y=a.meta)==null?void 0:y.title,url:a.path,meta:a.meta,icon:a.meta.icon}})})).filter(o=>o.meta.Menu),z=({key:o})=>{p.value[0]=o,m.push(o)};let p=h([]),f=h(),k=h(!1);const D=()=>{console.log("\u6267\u884CadminLogOut"),localStorage.setItem("userid",localStorage.getItem("adminId")),localStorage.setItem("username",localStorage.getItem("adminname")),localStorage.setItem("role",localStorage.getItem("adminrole")),localStorage.removeItem("adminId"),localStorage.removeItem("adminname"),localStorage.removeItem("adminrole"),k.value=!1,setTimeout(()=>{m.go(0)},1e3),Q.success("\u8FD4\u56DE\u7BA1\u7406\u5458\u767B\u5F55"),m.push("/")};P(()=>{localStorage.getItem("adminId")&&(k.value=!0),S(),p.value[0]=m.currentRoute.value.href,localStorage.getItem("role")=="user"?f.value=["home","shoper"]:f.value=["home","management"]});let c=h(!1);const M=()=>{c.value=!c.value};return(o,a)=>{const y=r("a-menu-item"),O=r("a-sub-menu"),R=r("a-menu"),W=r("a-layout-sider"),g=r("a-button"),U=r("a-layout-header"),N=r("router-view"),V=r("a-layout-content"),C=r("a-layout");return u(),L("div",null,[l(C,null,{default:t(()=>[l(W,{class:"h-100vh",theme:"dark",collapsed:n(c),"onUpdate:collapsed":a[2]||(a[2]=e=>v(c)?c.value=e:c=e),collapsible:""},{default:t(()=>[s("div",null,[s("div",null,[l(R,{mode:"inline",onClick:z,openKeys:n(f),"onUpdate:openKeys":a[0]||(a[0]=e=>v(f)?f.value=e:f=e),selectedKeys:n(p),"onUpdate:selectedKeys":a[1]||(a[1]=e=>v(p)?p.value=e:p=e),theme:"dark"},{default:t(()=>[(u(!0),L(x,null,F(n(A),e=>(u(),d(O,{key:e.key},{icon:t(()=>[s("span",X,[l(j,{type:e.icon,fill:"rgb(255, 255, 255)",theme:"outline",size:"24",spin:!1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},null,8,["type"])])]),title:t(()=>[s("span",Y,I(e.title),1)]),default:t(()=>[(u(!0),L(x,null,F(e.children,_=>(u(),d(y,{key:_.url},{icon:t(()=>[l(j,{type:_.icon,size:"20",fill:"rgb(255, 255, 255)",theme:"outline",spin:!1,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2},null,8,["type"])]),default:t(()=>[s("span",null,I(_.title),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys"])])])]),_:1},8,["collapsed"]),l(C,null,{default:t(()=>[l(U,{class:"mb-1",style:{"background-color":"#fff"}},{default:t(()=>{var e,_;return[s("div",Z,[s("div",$,[l(g,{type:"ghost",onClick:M},{default:t(()=>[n(c)?(u(),d(n(G),{key:0})):(u(),d(n(J),{key:1}))]),_:1})]),s("div",ee,[s("div",te," \u5F53\u524D\u7528\u6237\uFF1A "+I((_=(e=n(T).state)==null?void 0:e.admin)==null?void 0:_.username),1),n(k)?b("",!0):(u(),d(g,{key:0,onClick:n(w)},{default:t(()=>[oe]),_:1},8,["onClick"])),n(k)?(u(),d(g,{key:1,onClick:D},{default:t(()=>[ne]),_:1})):b("",!0)])])]}),_:1}),l(V,null,{default:t(()=>[s("div",ae,[l(N)])]),_:1})]),_:1})]),_:1})])}}});export{re as default};
