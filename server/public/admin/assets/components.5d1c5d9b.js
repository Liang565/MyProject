import{C as A}from"./crud-api.73604cab.js";import"./http.ac208b77.js";import{f as S,g as C,h as T,r as o,o as q,j as D,p as d,k as e,w as n,l as t,y as s}from"./vendor.34bbf430.js";const K={class:"my-2"},z=s("\u65B0\u589E\u7EC4\u4EF6"),G={class:"h-70vh overflow-y-auto"},H={class:"flex justify-center"},J=s("\u4FEE\u6539"),L=s("\u5220\u9664"),P=s("admin"),Q=s("public"),R=s("admin"),W=s("public"),ne=S({setup(X){const{remove:F,viss:_,editOk:g,addOk:w,fetch:x,data:U,query:Y,where:Z,search:ee,pagination:h,pageChange:B}=A("components"),I=()=>{_.value.add=!0};let c=C("");const O=i=>{_.value.edit=!0,u.value.name=i.name,u.value.title=i.title,u.value.key=i.key,c.value=i._id},M=(i,a)=>{for(let m in a)a[m]==""&&delete a[m];g(i,a)};let u=C({name:"",title:"",key:"public"});const $=()=>{u.value={name:"",title:"",key:"public"},c.value=""},k=()=>{$()};return T(()=>{x()}),(i,a)=>{const m=o("a-button"),N=o("a-alert"),v=o("a-table-column"),V=o("a-table"),p=o("a-input"),r=o("a-form-item"),f=o("a-radio-button"),y=o("a-radio-group"),E=o("a-form"),b=o("a-modal");return q(),D("div",null,[d("div",null,[d("div",K,[e(m,{onClick:I,type:"primary"},{default:n(()=>[z]),_:1})]),d("div",null,[e(N,{message:"\u4FEE\u6539\u7EC4\u4EF6title\u6216\u8005\u5220\u9664\u7EC4\u4EF6\u53EF\u80FD\u4F1A\u4F7F\u9875\u9762\u51FA\u9519\uFF01",banner:""})]),d("div",G,[e(V,{dataSource:t(U),rowKey:"_id",pagination:t(h),onChange:t(B)},{default:n(()=>[e(v,{title:"id",dataIndex:"_id",key:"_id",align:"center",width:"30%"}),e(v,{title:"name",dataIndex:"name",key:"name",align:"center",width:"20%"}),e(v,{title:"title",dataIndex:"title",key:"title",align:"center",width:"10%"}),e(v,{title:"key",dataIndex:"key",key:"key",align:"center",width:"10%"}),e(v,{key:"setting",title:"setting",align:"center",width:"30%"},{default:n(({record:l})=>[d("div",H,[e(m,{onClick:j=>O(l),type:"link"},{default:n(()=>[J]),_:2},1032,["onClick"]),e(m,{onClick:j=>t(F)(l,l.name),type:"link"},{default:n(()=>[L]),_:2},1032,["onClick"])])]),_:1})]),_:1},8,["dataSource","pagination","onChange"])])]),d("div",null,[e(b,{visible:t(_).add,"onUpdate:visible":a[3]||(a[3]=l=>t(_).add=l),title:"\u65B0\u589E\u7EC4\u4EF6",onOk:a[4]||(a[4]=l=>t(w)(t(u))),afterClose:k,centered:!0},{default:n(()=>[e(E,{model:t(u)},{default:n(()=>[e(r,{label:"\u7EC4\u4EF6name",name:"name"},{default:n(()=>[e(p,{value:t(u).name,"onUpdate:value":a[0]||(a[0]=l=>t(u).name=l)},null,8,["value"])]),_:1}),e(r,{label:"\u7EC4\u4EF6title",name:"title"},{default:n(()=>[e(p,{value:t(u).title,"onUpdate:value":a[1]||(a[1]=l=>t(u).title=l)},null,8,["value"])]),_:1}),e(r,{label:"key"},{default:n(()=>[e(y,{value:t(u).key,"onUpdate:value":a[2]||(a[2]=l=>t(u).key=l)},{default:n(()=>[e(f,{value:"admin"},{default:n(()=>[P]),_:1}),e(f,{value:"public"},{default:n(()=>[Q]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])]),d("div",null,[e(b,{visible:t(_).edit,"onUpdate:visible":a[8]||(a[8]=l=>t(_).edit=l),title:"\u4FEE\u6539\u7EC4\u4EF6",onOk:a[9]||(a[9]=l=>M(t(c),t(u))),afterClose:k,centered:!0},{default:n(()=>[e(E,{model:t(u)},{default:n(()=>[e(r,{label:"\u7EC4\u4EF6name",name:"name"},{default:n(()=>[e(p,{value:t(u).name,"onUpdate:value":a[5]||(a[5]=l=>t(u).name=l)},null,8,["value"])]),_:1}),e(r,{label:"\u7EC4\u4EF6title",name:"title"},{default:n(()=>[e(p,{value:t(u).title,"onUpdate:value":a[6]||(a[6]=l=>t(u).title=l)},null,8,["value"])]),_:1}),e(r,{label:"key"},{default:n(()=>[e(y,{value:t(u).key,"onUpdate:value":a[7]||(a[7]=l=>t(u).key=l)},{default:n(()=>[e(f,{value:"admin"},{default:n(()=>[R]),_:1}),e(f,{value:"public"},{default:n(()=>[W]),_:1})]),_:1},8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"])])])}}});export{ne as default};
