import{_ as z}from"./icon.4955e281.js";import{_ as q}from"./upload.106ba07a.js";import{f as M,g as h,h as R,r as d,o as i,j as m,k as t,w as o,F as k,q as C,l as s,S as x,p as r,t as U,x as v,c as b,T as H,n as J,V as P,y as F}from"./vendor.34bbf430.js";import"./register-and-login.97fb9136.js";import"./admin-store.bb77b52f.js";import"./http.ac208b77.js";/* empty css                                               */const Q={class:"price"},W={key:0},X=F(" \u6DFB\u52A0\u5546\u54C1 "),Y=F(" \u6DFB\u52A0\u56FE\u7247\u548C\u8FDE\u63A5 "),Z={class:"mb-3"},ee={class:"mt-3"},te=F(" \u5220\u9664 "),ne={class:"mb-3"},oe={class:"mt-3"},ue=F(" \u5220\u9664 "),ae=F(" \u79FB\u9664\u7EC4\u4EF6"),pe=M({props:{option:{type:Object,default:()=>({})},content:{type:Object,default:()=>({})},index:{type:String,default:""},goods:{type:Object,default:()=>[]}},emits:["removeComponent"],setup(a,{emit:D}){const n=a;let B=h("1"),p=h(!0),f=h(!0),_=h();const G=()=>{if(f.value=!1,(!n.content.type||n.content.type==="")&&(n.content.type="goods"),!n.content.menu){n.content.menu=[],n.content.menu.push({});return}n.content.menu.push({})},S=()=>{if(p.value=!1,(!n.content.type||n.content.type==="")&&(n.content.type="image"),!n.content.menu){n.content.menu=[],n.content.menu.push({});return}n.content.menu.push({})},A=l=>{n.content.menu.splice(n.content.menu.indexOf(l),1),n.content.menu.length===0&&(p.value=!0,f.value=!0,n.content.type="")},I=()=>{D("removeComponent")};let N=h(!1);const j=(l,u)=>u.label.toLowerCase().indexOf(l.toLowerCase())>=0;n.goods!==[]&&(_.value=n.goods.map(l=>{var u;return{label:l.commodityName,value:l._id,Img:(u=l.image[0])==null?void 0:u.url,price:l.price}}));const K=l=>{for(let u in _.value)_.value[u].value===l.id&&(l.title=_.value[u].label,l.image=_.value[u].Img,l.price=_.value[u].price)};return R(()=>{N.value=!0,n.content.type?n.content.type==="goods"?(p.value=!0,f.value=!1):(p.value=!1,f.value=!0):(p.value=!0,f.value=!0)}),(l,u)=>{const V=d("van-image"),y=d("a-button"),$=d("a-select"),g=d("a-form-item"),L=d("a-input"),w=d("a-form"),E=d("a-tab-pane"),O=d("van-stepper"),T=d("a-tabs");return i(),m("div",null,[t(s(H),{"column-num":a.option.column,gutter:a.option.gutter},{default:o(()=>[!a.content.menu||a.content.menu.length==0?(i(),m(k,{key:0},C(8,e=>t(s(x),{text:"\u6587\u5B57"},{default:o(()=>[r("div",null,[t(z,{type:"home",theme:"outline"}),r("div",null,U(e)+"\u5185\u5BB9\u4E3A\u7A7A",1)])]),_:2},1024)),64)):v("",!0),s(p)?(i(!0),m(k,{key:1},C(a.content.menu,e=>(i(),b(s(x),{icon:"photo-o"},{default:o(()=>[t(V,{src:e.image,fit:"contain"},null,8,["src"]),r("div",Q,[r("div",null,U(e.title),1),r("div",null,"\uFFE5"+U(e.price),1)])]),_:2},1024))),256)):v("",!0),s(f)?(i(!0),m(k,{key:2},C(a.content.menu,e=>(i(),b(s(x),{icon:"photo-o"},{default:o(()=>[r("div",null,[t(V,{src:e.image,fit:"contain"},null,8,["src"])])]),_:2},1024))),256)):v("",!0)]),_:1},8,["column-num","gutter"]),r("div",null,[(i(),b(P,{to:"#option"},[a.index==a.option.index?(i(),m("div",W,[t(T,{activeKey:s(B),"onUpdate:activeKey":u[2]||(u[2]=e=>J(B)?B.value=e:B=e)},{default:o(()=>[t(E,{key:"1",tab:"\u8BBE\u7F6E\u5185\u5BB9"},{default:o(()=>[s(p)?(i(),b(y,{key:0,type:"link",onClick:G},{default:o(()=>[X]),_:1})):v("",!0),s(f)?(i(),b(y,{key:1,type:"link",onClick:S},{default:o(()=>[Y]),_:1})):v("",!0),t(w,null,{default:o(()=>[s(p)?(i(!0),m(k,{key:0},C(a.content.menu,e=>(i(),m("div",Z,[t(g,{label:"\u9009\u62E9\u5546\u54C1"},{default:o(()=>[t($,{value:e.id,"onUpdate:value":c=>e.id=c,allowClear:!0,showSearch:!0,options:s(_),"filter-Option":j,onChange:c=>K(e)},null,8,["value","onUpdate:value","options","onChange"])]),_:2},1024),r("div",ee,[t(y,{type:"primary",size:"small",onClick:c=>A(e)},{default:o(()=>[te]),_:2},1032,["onClick"])])]))),256)):v("",!0),s(f)?(i(!0),m(k,{key:1},C(a.content.menu,e=>(i(),m("div",ne,[t(g,{label:"\u4E0A\u4F20\u56FE\u7247"},{default:o(()=>[t(q,{imageUrl:e.image,"onUpdate:imageUrl":c=>e.image=c,onOnSuccess:c=>{e.image=c}},null,8,["imageUrl","onUpdate:imageUrl","onOnSuccess"])]),_:2},1024),t(g,{label:"\u6DFB\u52A0\u8FDE\u63A5"},{default:o(()=>[t(L,{value:e.url,"onUpdate:value":c=>e.url=c},null,8,["value","onUpdate:value"])]),_:2},1024),r("div",oe,[t(y,{type:"primary",size:"small",onClick:c=>A(e)},{default:o(()=>[ue]),_:2},1032,["onClick"])])]))),256)):v("",!0)]),_:1})]),_:1}),t(E,{key:"2",tab:"\u8BBE\u7F6E\u6837\u5F0F","force-render":""},{default:o(()=>[r("div",null,[t(w,null,{default:o(()=>[t(g,{label:"\u5217\u6570"},{default:o(()=>[t(O,{modelValue:a.option.column,"onUpdate:modelValue":u[0]||(u[0]=e=>a.option.column=e),step:"1",min:"1",max:"8"},null,8,["modelValue"])]),_:1}),t(g,{label:"\u95F4\u9694"},{default:o(()=>[t(O,{modelValue:a.option.gutter,"onUpdate:modelValue":u[1]||(u[1]=e=>a.option.gutter=e),step:"1",min:"1",max:"100"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1}),t(E,{key:"3",tab:"\u7F16\u8F91"},{default:o(()=>[t(y,{type:"link",onClick:I},{default:o(()=>[ae]),_:1})]),_:1})]),_:1},8,["activeKey"])])):v("",!0)]))])])}}});export{pe as default};
