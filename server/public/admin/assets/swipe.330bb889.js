import{d as V,q as h,v as _,o as Z,z as me,t as ge,D as we,f as w,y as ee,u as pe,r as ye,b as O,c as M,e as G,w as B,F as K,g as L,h as be,H as xe,G as Ce}from"./user.0f0244cd.js";import{c as te,F as Se,u as Te,d as ae,G as _e,H as ke,J as $e,K as Oe,t as P,n as U,C as N,M as J,p as Pe,N as z,O as R,a as ie,b as ze}from"./function-call.b3f16382.js";import{q as Ae,O as ne,V as E,X as De,m as Ie}from"./reactivity.esm-bundler.f180a2dc.js";import"./vendor.1e3ef9c3.js";import"./http.3d895303.js";import"./api.e2fff66e.js";import"./admin-store.fe4adc91.js";import"./crud-api.b919ecb7.js";import"./index.016760bd.js";const[oe,A]=te("swipe"),Me={loop:P,width:U,height:U,vertical:Boolean,autoplay:N(0),duration:N(500),touchable:P,lazyRender:Boolean,initialSwipe:N(0),indicatorColor:String,showIndicators:P,stopPropagation:P},le=Symbol(oe);var Be=V({name:oe,props:Me,emits:["change"],setup(t,{emit:p,slots:f}){const c=Ae(),e=ne({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),l=Se(),{children:m,linkChildren:D}=Te(le),i=h(()=>m.length),n=h(()=>e[t.vertical?"height":"width"]),r=h(()=>t.vertical?l.deltaY.value:l.deltaX.value),d=h(()=>e.rect?(t.vertical?e.rect.height:e.rect.width)-n.value*i.value:0),k=h(()=>Math.ceil(Math.abs(d.value)/n.value)),x=h(()=>i.value*n.value),y=h(()=>(e.active+i.value)%i.value),H=h(()=>{const a=t.vertical?"vertical":"horizontal";return l.direction.value===a}),se=h(()=>{const a={transitionDuration:`${e.swiping?0:t.duration}ms`,transform:`translate${t.vertical?"Y":"X"}(${e.offset}px)`};if(n.value){const s=t.vertical?"height":"width",o=t.vertical?"width":"height";a[s]=`${x.value}px`,a[o]=t[o]?`${t[o]}px`:""}return a}),ce=a=>{const{active:s}=e;return a?t.loop?R(s+a,-1,i.value):R(s+a,0,k.value):s},X=(a,s=0)=>{let o=a*n.value;t.loop||(o=Math.min(o,-d.value));let v=s-o;return t.loop||(v=R(v,d.value,0)),v},g=({pace:a=0,offset:s=0,emitChange:o})=>{if(i.value<=1)return;const{active:v}=e,u=ce(a),T=X(u,s);if(t.loop){if(m[0]&&T!==d.value){const I=T<d.value;m[0].setOffset(I?x.value:0)}if(m[i.value-1]&&T!==0){const I=T>0;m[i.value-1].setOffset(I?-x.value:0)}}e.active=u,e.offset=T,o&&u!==v&&p("change",y.value)},$=()=>{e.swiping=!0,e.active<=-1?g({pace:i.value}):e.active>=i.value&&g({pace:-i.value})},ue=()=>{$(),l.reset(),z(()=>{e.swiping=!1,g({pace:-1,emitChange:!0})})},Y=()=>{$(),l.reset(),z(()=>{e.swiping=!1,g({pace:1,emitChange:!0})})};let F;const C=()=>clearTimeout(F),S=()=>{C(),t.autoplay>0&&i.value>1&&(F=setTimeout(()=>{Y(),S()},+t.autoplay))},b=(a=+t.initialSwipe)=>{if(!c.value)return;const s=()=>{var o,v;if(!J(c)){const u={width:c.value.offsetWidth,height:c.value.offsetHeight};e.rect=u,e.width=+((o=t.width)!=null?o:u.width),e.height=+((v=t.height)!=null?v:u.height)}i.value&&(a=Math.min(i.value-1,a)),e.active=a,e.swiping=!0,e.offset=X(a),m.forEach(u=>{u.setOffset(0)}),S()};J(c)?ee().then(s):s()},W=()=>b(e.active);let j;const re=a=>{!t.touchable||(l.start(a),j=Date.now(),C(),$())},ve=a=>{t.touchable&&e.swiping&&(l.move(a),H.value&&(Pe(a,t.stopPropagation),g({offset:r.value})))},q=()=>{if(!t.touchable||!e.swiping)return;const a=Date.now()-j,s=r.value/a;if((Math.abs(s)>.25||Math.abs(r.value)>n.value/2)&&H.value){const v=t.vertical?l.offsetY.value:l.offsetX.value;let u=0;t.loop?u=v>0?r.value>0?-1:1:0:u=-Math[r.value>0?"ceil":"floor"](r.value/n.value),g({pace:u,emitChange:!0})}else r.value&&g({pace:0});e.swiping=!1,S()},fe=(a,s={})=>{$(),l.reset(),z(()=>{let o;t.loop&&a===i.value?o=e.active===0?0:a:o=a%i.value,s.immediate?z(()=>{e.swiping=!1}):e.swiping=!1,g({pace:o-e.active,emitChange:!0})})},de=(a,s)=>{const o=s===y.value,v=o?{backgroundColor:t.indicatorColor}:void 0;return w("i",{style:v,class:A("indicator",{active:o})},null)},he=()=>{if(f.indicator)return f.indicator({active:y.value,total:i.value});if(t.showIndicators&&i.value>1)return w("div",{class:A("indicators",{vertical:t.vertical})},[Array(i.value).fill("").map(de)])};return ae({prev:ue,next:Y,state:e,resize:W,swipeTo:fe}),D({size:n,props:t,count:i,activeIndicator:y}),_(()=>t.initialSwipe,a=>b(+a)),_(i,()=>b(e.active)),_(()=>t.autoplay,S),_([_e,ke],W),_($e(),a=>{a==="visible"?S():C()}),Z(b),me(()=>b(e.active)),Oe(()=>b(e.active)),ge(C),we(C),()=>{var a;return w("div",{ref:c,class:A()},[w("div",{style:se.value,class:A("track",{vertical:t.vertical}),onTouchstart:re,onTouchmove:ve,onTouchend:q,onTouchcancel:q},[(a=f.default)==null?void 0:a.call(f)]),he()])}}});const Ne=ie(Be),[Re,Ee]=te("swipe-item");var Ve=V({name:Re,setup(t,{slots:p}){let f;const c=ne({offset:0,inited:!1,mounted:!1}),{parent:e,index:l}=ze(le);if(!e)return;const m=h(()=>{const n={},{vertical:r}=e.props;return e.size.value&&(n[r?"height":"width"]=`${e.size.value}px`),c.offset&&(n.transform=`translate${r?"Y":"X"}(${c.offset}px)`),n}),D=h(()=>{const{loop:n,lazyRender:r}=e.props;if(!r||f)return!0;if(!c.mounted)return!1;const d=e.activeIndicator.value,k=e.count.value-1,x=d===0&&n?k:d-1,y=d===k&&n?0:d+1;return f=l.value===d||l.value===x||l.value===y,f}),i=n=>{c.offset=n};return Z(()=>{ee(()=>{c.mounted=!0})}),ae({setOffset:i}),()=>{var n;return w("div",{class:Ee(),style:m.value},[D.value?(n=p.default)==null?void 0:n.call(p):null])}}});const Q=ie(Ve);const He={class:"imgDiv"},Ue=V({props:{option:{type:Object,default:()=>({})},content:{type:Object,default:()=>({})},index:{type:String,default:""}},setup(t){pe();const p=f=>{window.location.href=`https:\\${f}`};return(f,c)=>{const e=ye("van-image");return O(),M("div",null,[G("div",{class:"overflow-hidden",style:Ie({height:t.option.height+"px"})},[w(E(Ne),{class:"my-swipe",autoplay:t.option.autoplay||3e3,"show-indicators":t.option.showIndicators,loop:t.option.loop,"indicator-color":"white"},{default:B(()=>[(O(!0),M(K,null,L(t.content.image,l=>(O(),be(E(Q),{onClick:m=>p(l.url)},{default:B(()=>[G("div",He,[w(e,{src:l.image,fit:"contain",height:t.option.height},null,8,["src","height"])])]),_:2},1032,["onClick"]))),256)),t.content.image?Ce("",!0):(O(),M(K,{key:0},L(5,l=>w(E(Q),null,{default:B(()=>[xe(De(l),1)]),_:2},1024)),64))]),_:1},8,["autoplay","show-indicators","loop"])],4)])}}});export{Ue as default};
