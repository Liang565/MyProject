import{d as I,r as y,u as W,o as $,a as C,b as d,c as a,e as m,f as e,g as o,w as l,h as s,i as J,A as h,B as p,F as b,j as S,T as O,t as r,k as R}from"./index.ca94e480.js";import{_}from"./iconPark.dd22b92a.js";import"./http.c785b6bf.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import{_ as B}from"./myimage.c61b3e37.js";import{C as A}from"./curd.8d201bba.js";/* empty css              *//* empty css              */const M={class:"flex justify-between items-center mx-2"},T={class:"flex"},G={class:"w-5/6"},H={action:"/"},U=["onClick"],K={class:"text-lg h-8 w-full overflow-hidden text-ellipsis whitespace-nowrap"},P={class:"text-base h-6 w-full overflow-hidden text-ellipsis whitespace-nowrap"},Q={class:"text-lg text-red-600"},X={class:"w-full h-full bg-gray-200"},Y={class:"text-center"},Z={class:"text-center text-lg"},ee={class:"text-center text-base h-6 overflow-hidden text-ellipsis"},te={class:"text-center text-lg text-red-600"},ve=I({__name:"search",setup(oe){const{search:f,data:c,query:g,goGoods:k}=A("commoditys");let i=y();const x=async()=>{i.value==""||!i.value?(c.value=null,O.fail("\u8BF7\u8F93\u5165\u5173\u952E\u8BCD")):(g.value.where={commodityName:{$regex:i.value}},f())},F=()=>{c.value=[]};let n=y(!0);const L=()=>{n.value=!n.value,sessionStorage.setItem("upright",JSON.stringify(n.value))},w=W(),N=()=>{w.go(-1)},D=()=>{w.push("/")};return $(()=>{if(console.log("\u52A0\u8F7D"),C().query.query1){console.log("\u5B58\u5728\u53C2\u6570");const u=C().query.query1;g.value=JSON.parse(u),f()}const v=sessionStorage.getItem("upright");v&&(n.value=JSON.parse(v))}),(v,u)=>{const j=d("van-search"),q=d("van-card"),E=d("van-grid-item"),V=d("van-grid");return a(),m("div",null,[e("div",M,[e("div",T,[e("button",{onClick:N,class:"mx-2"},[o(_,{type:"back",theme:"outline",size:"24",spin:!1,fill:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})]),e("button",{onClick:D},[o(_,{type:"home",theme:"outline",size:"24",spin:!1,fill:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})])]),e("div",G,[e("form",H,[o(j,{clearable:!1,shape:"round",modelValue:s(i),"onUpdate:modelValue":u[0]||(u[0]=t=>J(i)?i.value=t:i=t),placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5173\u952E\u8BCD",onCancel:F,onSearch:x,"show-action":""},{"right-icon":l(()=>[e("div",{onClick:x,class:"border-2 border-red-400 rounded-lg bg-red-200 text-sm"}," \u641C\u7D22 ")]),_:1},8,["modelValue"])])]),e("div",null,[e("button",{onClick:L},[h(e("div",null,[o(_,{type:"list-one",theme:"outline",size:"24",spin:!1,fill:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})],512),[[p,s(n)]]),h(e("div",null,[o(_,{type:"waterfalls-h",theme:"outline",size:"24",spin:!1,fill:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2})],512),[[p,!s(n)]])])])]),h(e("div",null,[(a(!0),m(b,null,S(s(c),t=>(a(),m("div",{class:"m-3",onClick:z=>s(k)(t)},[o(q,null,{title:l(()=>[e("div",K,r(t.commodityName),1)]),desc:l(()=>[e("div",P,r(t.commodityIntroduce),1)]),price:l(()=>[e("div",Q,"\uFFE5"+r(t.price),1)]),thumb:l(()=>[e("div",null,[o(B,{src:t.image},null,8,["src"])])]),_:2},1024)],8,U))),256))],512),[[p,s(n)]]),h(e("div",null,[o(V,{border:!1,"column-num":2,center:!0},{default:l(()=>[(a(!0),m(b,null,S(s(c),t=>(a(),R(E,{onClick:z=>s(k)(t)},{default:l(()=>[e("div",X,[e("div",Y,[o(B,{src:t.image,height:"80",radius:"10"},null,8,["src"])]),e("div",Z,r(t.commodityName),1),e("div",ee,r(t.commodityIntroduce),1),e("div",te,"\uFFE5"+r(t.price),1)])]),_:2},1032,["onClick"]))),256))]),_:1})],512),[[p,!s(n)]])])}}});export{ve as default};
